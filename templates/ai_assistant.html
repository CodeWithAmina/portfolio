{% extends 'base.html' %}

{% block head %}
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    /* Custom overrides if needed */
    .ai-response {
        background-color: #f8f9fa;
        border-left: 5px solid #0d6efd;
    }
</style>
{% endblock %}

{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-md-10">
        <div class="card shadow">
            <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
                <h3 class="mb-0">AI Assistant</h3>
                <span class="badge bg-secondary">Project 3</span>
            </div>
            <div class="card-body">
                <p class="card-text text-muted">Powered by custom <code>ai_helper</code> library.</p>

                <form method="POST" action="{{ url_for('ai_assistant') }}">
                    <div class="mb-3">
                        <label for="prompt" class="form-label fw-bold">Enter your query:</label>
                        <textarea class="form-control" id="prompt" name="prompt" rows="5"
                            placeholder="Type something here..." required>{{ prompt }}</textarea>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="submit" class="btn btn-primary px-4">Submit Query</button>
                    </div>
                </form>

                {% if response %}
                <hr class="my-4">
                <div class="ai-response p-4 rounded">
                    <h5 class="text-primary">Response:</h5>
                    <p class="lead mb-0">{{ response|safe }}</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}